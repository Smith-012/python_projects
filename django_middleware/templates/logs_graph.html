<!DOCTYPE html>
<html>
    <head>
        <title>Status Code Graph</title>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <style>
        body {
            margin: 40px;
            font-family: Arial, sans-serif;
        }
        .chart-container {
            width: 600px;
            height: 300px;
            margin: auto;
        }
        </style>
    </head>
    <body>
        <h2 style="text-align:center;">Status Code Graph</h2>
        <div class="chart-container">
            <canvas id="chart"></canvas>
        </div>
        <script>
    const labels = {{ labels|safe }};
    const counts = {{ counts|safe }};

    new Chart(document.getElementById('chart'), {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: "Request Count",
                data: counts,
                backgroundColor: "rgba(54, 162, 235, 0.6)",
                borderColor: "rgba(54, 162, 235, 1)",
                borderWidth: 1
            }]
        },
        options: {
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: { stepSize: 1 }
                }
            }
        }
    });
        </script>
    </body>
</html>
