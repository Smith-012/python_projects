<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Task Automation Toolbox — Local Move (FS Access API)</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="/static/style.css">
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script defer src="/static/script.js"></script>
    </head>
    <body>
        <div class="wrap">
            <h1>Task Automation Toolbox</h1>
            <!-- Move Images (Local) -->
            <div class="card">
                <h2>Move image files (Local folders)</h2>
                <div class="muted" style="margin-bottom:8px">
                    Works best in Chromium browsers (Chrome/Edge/Brave). Safari/Firefox support is limited.
                </div>
                <div class="row" style="grid-template-columns:auto 1fr auto 1fr;">
                    <button id="pickSrc" class="btn">Pick Source</button>
                    <div id="srcLabel" class="pathlabel muted">No folder selected</div>
                    <button id="pickDst" class="btn">Pick Destination</button>
                    <div id="dstLabel" class="pathlabel muted">No folder selected</div>
                </div>
                <div class="row" style="grid-template-columns:auto auto 1fr;">
                    <label class="ck">
                        <input type="checkbox" id="includeSub" checked>
                        <span>Include subfolders</span>
                    </label>
                    <div></div>
                    <div class="muted">Supported: jpg, jpeg, png, gif, bmp, webp, tif, tiff, heic, heif, svg</div>
                </div>
                <div class="row" style="grid-template-columns:auto auto auto;">
                    <button id="previewBtn" class="btn">Preview & Select…</button>
                    <button id="moveAllBtn" class="btn primary">Move All</button>
                    <button id="moveSelectedBtn" class="btn">Move Selected</button>
                </div>
                <div id="previewBox" class="mono" style="display:none; max-height:260px; overflow:auto;"></div>
                <div class="row" style="grid-template-columns:auto 1fr;">
                    <button id="undoBtn" class="btn">Undo Last Move</button>
                    <div class="muted">Undo restores to exact original paths; if taken, adds
                        <code>_restored_N</code>.
                    </div>
                </div>
            </div>
            <!-- Extract Emails -->
            <div class="card">
                <h2>Extract emails from text</h2>
                <textarea
                    id="emailText"
                    class="input"
                    rows="7"
                    placeholder="Paste text here..."
                ></textarea>
                <div class="row" style="grid-template-columns:auto auto 1fr;">
                    <button id="extractBtn" class="btn primary">Extract</button>
                    <button id="downloadEmails" class="btn">Download .txt</button>
                    <div></div>
                </div>
                <div id="emailResult" class="mono"></div>
            </div>
            <!-- Scrape Title (via server to avoid CORS) -->
            <div class="card">
                <h2>Scrape webpage title</h2>
                <div class="row" style="grid-template-columns:1fr auto auto;">
                    <input id="url" class="input" placeholder="https://example.com">
                    <button id="titleBtn" class="btn primary">Get Title</button>
                    <button id="saveTitleBtn" class="btn">Download .txt</button>
                </div>
                <div id="titleOut" class="mono"></div>
            </div>
            <div class="footer">
                <button id="exitBtn" class="btn danger">Exit Server</button>
            </div>
        </div>
    </body>
</html>
